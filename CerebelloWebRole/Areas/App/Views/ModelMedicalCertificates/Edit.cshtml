@model CerebelloWebRole.Areas.App.Models.ModelMedicalCertificateViewModel
@{
    if (this.Model != null && this.Model.Id.HasValue)
    {
        ViewBag.Title = "Modelo de atestado: " + this.Model.Name + " · Cerebello";
    }
    else
    {
        ViewBag.Title = "Novo modelo de atestado médico · Cerebello";
    }
}
@section Title {
    @if (this.Model != null && this.Model.Id.HasValue)
    {
        @:Editando modelo de atestado médico: @this.Model.Name
    }
    else
    {
        @:Novo modelo de atestado médico
    }
}
@section SideBar {
    <a href="@Url.Action("index")" class="icon-link icon-link-home">Resumo de modelos de
        atestados</a>
        <hr />
        @Html.MessageHelp("Ao criar um modelo de atestado, é possível declarar campos que deverão ser definidos ao criar um novo atestado. Para definir um campo, basta clicar em 'adicionar campo' e digitar seu nome. Para referenciar um campo no texto, use o padrão <%nome_do_campo%>. O campo <%paciente%> é definido automaticamente.")
}
@using (Html.BeginForm())
{
    @Html.ValidationSummary(false)
    @Html.HiddenFor(model => model.Id)
    
    <table class="form-table">
        <tr>
            <th>@Html.LabelFor(model => model.Name)
            </th>
            <td class="large">@Html.TextBoxFor(model => model.Name)
            </td>
        </tr>
        <tr>
            <th>@Html.LabelFor(model => model.Text)
            </th>
            <td class="large">@Html.TextAreaFor(model => model.Text, new { rows = 10})
            </td>
        </tr>
        <tr>
            <th>@Html.LabelFor(model => model.Fields)
            </th>
            <td>
                @Html.CollectionEditorInlineFor(m => m.Fields, "FieldEditor", "Adicionar campo")
            </td>
        </tr>
    </table>
    <div class="submit-bar">
        <input type="submit" value="salvar modelo de atestado" />
        <span class="separator">ou</span>
        @Html.ActionLink("cancelar", "Index")
    </div>
}
